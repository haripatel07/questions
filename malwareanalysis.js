function simulate(entries) {
  arr=[...entries]
  for(i=0;i<entries.length;i++){
    if ((entries[i-3]!==undefined) && (entries[i+4]!==undefined)){
      if ((entries[i-3]>=entries[i]) || (entries[i+4]>=entries[i])){
        arr[i]=0
      }
    }
    else if((entries[i-3]===undefined) && (entries[i+4]>=arr[i])){
      arr[i]=0
    }
    else if((entries[i-3]>=arr[i]) && (entries[i+4]===undefined)){
      arr[i]=0
    }
  }
  return arr;
}

const records = [1, 2, 0, 5, 0, 2, 4, 3, 3, 3];
console.log(simulate(records));
// Expected output
// [1, 0, 0, 5, 0, 0, 0, 3, 3, 0]
